import{u as C}from"./vue-i18n.cjs.f888bd5c.js";import{u as S}from"./index.3243f535.js";import{h as y,r as h,K as T,a9 as s,j as b,k as N,D as a,x as l,l as z,B as x,C as F,u,v as A,A as R}from"./vue.543fafcc.js";import{_ as U}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.35101cd5.js";import"./request.c84c4c3e.js";import"./storage.b628b270.js";import"./index.a654b9cd.js";import"./index.18e5bded.js";import"./themeConfig.ab165958.js";import"./index.4ac74e37.js";import"./index.070d5527.js";import"./index.3b68140d.js";const j={class:"system-role-dialog-container"},K={class:"dialog-footer"},M=y({name:"systemRoleDialog"}),P=y({...M,emits:["refresh"],setup($,{expose:V,emit:D}){const{t}=C(),d=S(),r=h(),e=T({ruleForm:{id:0,name:"",uniqueId:""},menuData:[],menuProps:{children:"children",label:"label"},rules:{name:{required:!0,message:t("message.commonMsg.emptyInput")+t("message.namespace.name"),trigger:"blur"}},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""}}),v=(n,o)=>{var i;(i=r.value)==null||i.clearValidate(),n==="update"?(e.ruleForm.name=o.name,e.ruleForm.uniqueId=o.uniqueId,e.ruleForm.id=o.id,e.dialog.title=t("message.namespace.editTitle"),e.dialog.submitTxt=t("message.commonBtn.update")):(e.ruleForm.name="",e.ruleForm.uniqueId="",e.dialog.title=t("message.namespace.addTitle"),e.dialog.submitTxt=t("message.commonBtn.add")),e.dialog.type=n,e.dialog.isShowDialog=!0},p=()=>{e.dialog.isShowDialog=!1},I=()=>{p()},w=async n=>{!n||await n.validate(o=>{if(o)q();else return!1})},q=async()=>{e.dialog.type==="update"?await d.update({id:e.ruleForm.id,name:e.ruleForm.name}):await d.add({name:e.ruleForm.name}),p(),D("refresh")};return V({openDialog:v}),(n,o)=>{const i=s("el-input"),c=s("el-form-item"),_=s("el-col"),g=s("el-row"),k=s("el-form"),f=s("el-button"),B=s("el-dialog");return b(),N("div",j,[a(B,{title:e.dialog.title,modelValue:e.dialog.isShowDialog,"onUpdate:modelValue":o[3]||(o[3]=m=>e.dialog.isShowDialog=m),width:"769px"},{footer:l(()=>[z("span",K,[a(f,{onClick:I,size:"default"},{default:l(()=>[x(F(u(t)("message.commonBtn.cancel")),1)]),_:1}),a(f,{type:"primary",onClick:o[2]||(o[2]=m=>w(r.value)),size:"default"},{default:l(()=>[x(F(e.dialog.submitTxt),1)]),_:1})])]),default:l(()=>[a(k,{ref_key:"nsDialogFormRef",ref:r,model:e.ruleForm,rules:e.rules,size:"default"},{default:l(()=>[a(g,null,{default:l(()=>[a(_,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[a(c,{label:u(t)("message.namespace.name"),prop:"name"},{default:l(()=>[a(i,{modelValue:e.ruleForm.name,"onUpdate:modelValue":o[0]||(o[0]=m=>e.ruleForm.name=m),clearable:""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),a(g,null,{default:l(()=>[e.dialog.type==="update"?(b(),A(_,{key:0,xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[a(c,{label:u(t)("message.namespace.uniqueId"),prop:"uniqueId"},{default:l(()=>[a(i,{modelValue:e.ruleForm.uniqueId,"onUpdate:modelValue":o[1]||(o[1]=m=>e.ruleForm.uniqueId=m),clearable:"",disabled:""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):R("",!0)]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});const ae=U(P,[["__scopeId","data-v-7dfca3e9"]]);export{ae as default};
